{"number":0,"title":"","body":"[#添加](https://github.com/fzdwx/fzdwx.github.io/discussions/4) \r\n\r\n","bodyHTML":"\u003cp dir=\"auto\"\u003e\u003ca href=\"https://github.com/fzdwx/fzdwx.github.io/discussions/4\" data-hovercard-type=\"discussion\" data-hovercard-url=\"/fzdwx/fzdwx.github.io/discussions/4/hovercard\"\u003e#添加\u003c/a\u003e\u003c/p\u003e","locked":false,"upvoteCount":0,"url":"https://github.com/fzdwx/fzdwx.github.io/discussions/4","createdAt":"0001-01-01T00:00:00Z","updatedAt":"0001-01-01T00:00:00Z","author":null,"comments":{"totalCount":2,"nodes":[{"body":"fork 系统调用:\r\n\r\n1. 在内核初始化完毕后会调用用户初始化进程 `init`, 在 linux 上可以通过指定 `rdinit` 来设置\r\n2. 进程 A 调用 `fork` 后内核会创建一个进程 B, 它们在 `fork` 系统调用返回时几乎处于相同的状态(用户态代码段、堆栈段以及其他数据段), 但是出于两个不同地址空间, 只有返回值不同(`a0`寄存器), 父进程返回子进程 pid, 子进程返回 0\r\n\r\n\r\nwaitpid 系统调用:\r\n\r\n1. 当一个进程调用 `exit` 退出后, 它所占用的资源不能立即全部回收. 比如当前进程的内核栈正在执行系统调用, 所以这种进程退出的时候内核立即回收一部分资源标记为 僵尸进程.\r\n2. 接下来会由父进程通过 waitpid 来收集该进程的返回状态并回收资源\r\n3. 如果父进程先于子进程结束则由 init 来处理\r\n\r\nexec 系统调用:\r\n\r\n1. 将当前进程的地址空间清空并加载一个特定的可执行文件, 返回用户态后就开始执行\r\n\r\n[tags:#os]","bodyHTML":"\u003cp dir=\"auto\"\u003efork 系统调用:\u003c/p\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e在内核初始化完毕后会调用用户初始化进程 \u003ccode class=\"notranslate\"\u003einit\u003c/code\u003e, 在 linux 上可以通过指定 \u003ccode class=\"notranslate\"\u003erdinit\u003c/code\u003e 来设置\u003c/li\u003e\n\u003cli\u003e进程 A 调用 \u003ccode class=\"notranslate\"\u003efork\u003c/code\u003e 后内核会创建一个进程 B, 它们在 \u003ccode class=\"notranslate\"\u003efork\u003c/code\u003e 系统调用返回时几乎处于相同的状态(用户态代码段、堆栈段以及其他数据段), 但是出于两个不同地址空间, 只有返回值不同(\u003ccode class=\"notranslate\"\u003ea0\u003c/code\u003e寄存器), 父进程返回子进程 pid, 子进程返回 0\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp dir=\"auto\"\u003ewaitpid 系统调用:\u003c/p\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e当一个进程调用 \u003ccode class=\"notranslate\"\u003eexit\u003c/code\u003e 退出后, 它所占用的资源不能立即全部回收. 比如当前进程的内核栈正在执行系统调用, 所以这种进程退出的时候内核立即回收一部分资源标记为 僵尸进程.\u003c/li\u003e\n\u003cli\u003e接下来会由父进程通过 waitpid 来收集该进程的返回状态并回收资源\u003c/li\u003e\n\u003cli\u003e如果父进程先于子进程结束则由 init 来处理\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp dir=\"auto\"\u003eexec 系统调用:\u003c/p\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e将当前进程的地址空间清空并加载一个特定的可执行文件, 返回用户态后就开始执行\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp dir=\"auto\"\u003e\u003c/p\u003e","upvoteCount":1,"url":"https://github.com/fzdwx/fzdwx.github.io/discussions/4#discussioncomment-6645264","authorAssociation":"OWNER","createdAt":"2023-08-05T11:56:36Z","updatedAt":"2023-08-05T16:43:06Z","author":{"login":"fzdwx","avatarUrl":"https://avatars.githubusercontent.com/u/65269574?u=ed3f913168ed04029c8cc0c2504b30299d2bde75\u0026v=4","url":"https://github.com/fzdwx","bio":"","email":"","company":"","location":"","name":"","twitterUsername":""},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"tags":["#os"]},{"body":"一条查询 SQL 的执行过程:\r\n\r\n1.  client 与连接器建立连接，连接器确认 client 认证信息以及权限信息\r\n2. 分析器进行词法分析(select, where, update, group by...), 然后进行语法分析\r\n3. 优化器选择索引生成执行计划\r\n4. 执行器调用存储引擎的读写接口进行数据查询\r\n\r\n![image](https://github.com/fzdwx/fzdwx.github.io/assets/65269574/645e5834-d596-4c9e-b4d7-cb10365d60a3)\r\n\r\n\r\n\r\n[tags:#MySQL]","bodyHTML":"\u003cp dir=\"auto\"\u003e一条查询 SQL 的执行过程:\u003c/p\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003eclient 与连接器建立连接，连接器确认 client 认证信息以及权限信息\u003c/li\u003e\n\u003cli\u003e分析器进行词法分析(select, where, update, group by...), 然后进行语法分析\u003c/li\u003e\n\u003cli\u003e优化器选择索引生成执行计划\u003c/li\u003e\n\u003cli\u003e执行器调用存储引擎的读写接口进行数据查询\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp dir=\"auto\"\u003e\u003ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/65269574/258571472-645e5834-d596-4c9e-b4d7-cb10365d60a3.png\"\u003e\u003cimg src=\"https://user-images.githubusercontent.com/65269574/258571472-645e5834-d596-4c9e-b4d7-cb10365d60a3.png\" alt=\"image\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003c/p\u003e","upvoteCount":1,"url":"https://github.com/fzdwx/fzdwx.github.io/discussions/4#discussioncomment-6643890","authorAssociation":"OWNER","createdAt":"2023-08-05T05:12:23Z","updatedAt":"2023-08-05T11:59:50Z","author":{"login":"fzdwx","avatarUrl":"https://avatars.githubusercontent.com/u/65269574?u=ed3f913168ed04029c8cc0c2504b30299d2bde75\u0026v=4","url":"https://github.com/fzdwx","bio":"","email":"","company":"","location":"","name":"","twitterUsername":""},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":1}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"tags":["#MySQL"]}],"pageInfo":{"hasNextPage":false,"endCursor":"Y3Vyc29yOnYyOpK5MjAyMy0wOC0wNVQxOTo1NjozNiswODowMM4AZWYQ"}},"reactionGroups":null}
